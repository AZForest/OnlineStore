{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"/Users/alexforest/Desktop/OnlineStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/alexforest/Desktop/OnlineStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alexforest/Desktop/OnlineStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/alexforest/Desktop/OnlineStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alexforest/Desktop/OnlineStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import classes from'../Fruit/Fruit.module.css';import React,{useState}from'react';import{connect}from'react-redux';import axios from'axios';import ProductModel from'../../../components/UI/ProductModel/ProductModel';import*as actionTypes from'../../../store/actions/actionTypes';//Images\nimport broccoli from'../../../assets/Vegetables/Broccoli.jpg';import celery from'../../../assets/Vegetables/Celery.jpg';import cucumber from'../../../assets/Vegetables/Cucumber.jpg';import greenPepper from'../../../assets/Vegetables/GreenBellPepper.jpg';import redPepper from'../../../assets/Vegetables/RedBellPepper.jpg';import romaTomato from'../../../assets/Vegetables/RomaTomato.jpg';import yellowOnion from'../../../assets/Vegetables/YellowOnion.jpg';import zucchini from'../../../assets/Vegetables/Zucchini.jpg';var Vegetables=/*#__PURE__*/function(_React$Component){_inherits(Vegetables,_React$Component);var _super=_createSuper(Vegetables);function Vegetables(){var _this;_classCallCheck(this,Vegetables);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={products:[]};return _this;}_createClass(Vegetables,[{key:\"componentDidMount\",value:function componentDidMount(){var fruit=[];var products=JSON.parse(localStorage.getItem('products'));for(var i=0;i<products.length;i++){if(products[i].type===\"Vegetable\"){fruit.push(products[i]);}}this.setState({products:fruit});}},{key:\"addHandler\",value:function addHandler(name,price){var _this2=this;if(this.props.user===null){window.alert('Please log in');}else{var data={prevCart:this.props.user.cart,product:{name:name,price:price,count:1},updateCount:false};for(var i=0;i<data.prevCart.length;i++){if(data.prevCart[i].name===data.product.name){data.updateCount=true;}}var updatedAcc;if(!data.updateCount){updatedAcc=_objectSpread(_objectSpread({},this.props.user),{},{cart:this.props.user.cart.concat(data.product)});}else{var element;for(var _i=0;_i<this.props.user.cart.length;_i++){if(this.props.user.cart[_i].name===data.product.name){element=_i;}}var newAcc=this.props.user.cart;newAcc[element].count+=1;updatedAcc=_objectSpread(_objectSpread({},this.props.user),{},{cart:newAcc});}axios.patch(\"http://onlinestoreserver.herokuapp.com/users/\".concat(this.props.user.id,\"/addProduct\"),data).then(function(response){console.log(response);_this2.props.onUpdateCart(updatedAcc);}).catch(function(err){console.log(err);});}}},{key:\"removeHandler\",value:function removeHandler(name,price){var _this3=this;var data={prevCart:this.props.user.cart,product:{name:name,price:price,count:1},updateCount:false};var cartArray=this.props.user.cart;var index2=-1;for(var i=0;i<cartArray.length;i++){if(cartArray[i].name===data.product.name){index2=i;if(cartArray[i].count>1){data.updateCount=true;}}}if(!data.updateCount){if(index2>=0){cartArray.splice(index2,1);}}else{cartArray[index2].count-=1;}var updatedAcc=_objectSpread(_objectSpread({},this.props.user),{},{cart:cartArray});//PATCH remove\naxios.patch(\"http://onlinestoreserver.herokuapp.com/users/\".concat(this.props.user.id,\"/removeProduct\"),data).then(function(response){console.log(response);_this3.props.onUpdateCart(updatedAcc);}).catch(function(err){console.log(err);});}},{key:\"imageHandler\",value:function imageHandler(item){var imgLibrary=[{name:\"Broccoli\",img:broccoli},{name:\"Celery\",img:celery},{name:\"Cucumber\",img:cucumber},{name:\"Green Bell Pepper\",img:greenPepper},{name:\"Red Bell Pepper\",img:redPepper},{name:\"Roma Tomato\",img:romaTomato},{name:\"Yellow Onion\",img:yellowOnion},{name:\"Zucchini\",img:zucchini}];var result=imgLibrary.filter(function(obj){return obj.name===item;});return result[0].img;}},{key:\"countHandler\",value:function countHandler(item){if(this.props.user!==null){var userCart=this.props.user.cart;var result=-1;for(var i=0;i<userCart.length;i++){if(userCart[i].name===item){result=userCart[i].count;}}if(result===-1){return 0;}else{return result;}//return result[0].count;\n}else{return 0;}}},{key:\"render\",value:function render(){var _this4=this;var vegetableItems=this.state.products;/* for (let i = 0; i < this.props.productsArr.length; i++) {\n            if (this.props.productsArr[i].type === \"Vegetable\") {\n                vegetableItems.push(this.props.productsArr[i]);\n            }\n        } */return/*#__PURE__*/_jsxs(\"div\",{className:classes.Fruit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Vegetables\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.FruitContainer,children:vegetableItems.map(function(item,index){return/*#__PURE__*/_jsx(ProductModel,{name:item.name,type:item.type,price:item.price,add:function add(){return _this4.addHandler(item.name,item.price);},remove:function remove(){return _this4.removeHandler(item.name,item.price);},count:_this4.countHandler(item.name),img:_this4.imageHandler(item.name)},item._id);})})]});}}]);return Vegetables;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{user:state.activeUser,productsArr:state.products};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onUpdateCart:function onUpdateCart(account){return dispatch({type:actionTypes.UPDATE_CART,account:account});}};};export default connect(mapStateToProps,mapDispatchToProps)(Vegetables);","map":{"version":3,"sources":["/Users/alexforest/Desktop/OnlineStore/src/containers/Products/Vegetables/Vegetables.js"],"names":["classes","React","useState","connect","axios","ProductModel","actionTypes","broccoli","celery","cucumber","greenPepper","redPepper","romaTomato","yellowOnion","zucchini","Vegetables","state","products","fruit","JSON","parse","localStorage","getItem","i","length","type","push","setState","name","price","props","user","window","alert","data","prevCart","cart","product","count","updateCount","updatedAcc","concat","element","newAcc","patch","id","then","response","console","log","onUpdateCart","catch","err","cartArray","index2","splice","item","imgLibrary","img","result","filter","obj","userCart","vegetableItems","Fruit","FruitContainer","map","index","addHandler","removeHandler","countHandler","imageHandler","_id","Component","mapStateToProps","activeUser","productsArr","mapDispatchToProps","dispatch","account","UPDATE_CART"],"mappings":"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","sourcesContent":["import classes from '../Fruit/Fruit.module.css';\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport ProductModel from '../../../components/UI/ProductModel/ProductModel';\nimport * as actionTypes from '../../../store/actions/actionTypes';\n//Images\nimport broccoli from '../../../assets/Vegetables/Broccoli.jpg';\nimport celery from '../../../assets/Vegetables/Celery.jpg';\nimport cucumber from '../../../assets/Vegetables/Cucumber.jpg';\nimport greenPepper from '../../../assets/Vegetables/GreenBellPepper.jpg';\nimport redPepper from '../../../assets/Vegetables/RedBellPepper.jpg';\nimport romaTomato from '../../../assets/Vegetables/RomaTomato.jpg';\nimport yellowOnion from '../../../assets/Vegetables/YellowOnion.jpg';\nimport zucchini from '../../../assets/Vegetables/Zucchini.jpg';\n\nclass Vegetables extends React.Component {\n\n    state = {\n        products: []\n    }\n\n    componentDidMount() {\n        let fruit = [];\n        let products = JSON.parse(localStorage.getItem('products'));\n        for (let i = 0; i < products.length; i++) {\n            if (products[i].type === \"Vegetable\") {\n                fruit.push(products[i]);\n            }\n        }\n        this.setState({products: fruit})\n    }\n\n    addHandler(name, price) {\n        if (this.props.user === null) {\n            window.alert('Please log in');\n        } else {\n            let data = {\n                prevCart: this.props.user.cart,\n                product: {\n                    name: name,\n                    price: price,\n                    count: 1\n                },\n                updateCount: false\n            }\n            \n            for (let i = 0; i < data.prevCart.length; i++) {\n                if (data.prevCart[i].name === data.product.name) {\n                    data.updateCount = true;\n                }\n            }\n\n            let updatedAcc;\n            if (!data.updateCount) {\n                updatedAcc = {\n                    ...this.props.user,\n                    cart: this.props.user.cart.concat(data.product)\n                }\n            } else {\n                let element;\n                for (let i = 0; i < this.props.user.cart.length; i++) {\n                    if (this.props.user.cart[i].name === data.product.name) {\n                        element = i;\n                    }\n                }\n                let newAcc = this.props.user.cart;\n                newAcc[element].count += 1;\n                updatedAcc = {\n                    ...this.props.user,\n                    cart: newAcc\n                }\n            }\n            \n\n            axios.patch(`http://onlinestoreserver.herokuapp.com/users/${this.props.user.id}/addProduct`, data)\n            .then(response => {\n                console.log(response);\n                this.props.onUpdateCart(updatedAcc);\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    removeHandler(name, price) {\n        let data = {\n            prevCart: this.props.user.cart,\n            product: {\n                name: name,\n                price: price,\n                count: 1\n            },\n            updateCount: false\n        }\n        let cartArray = this.props.user.cart;\n\n        let index2 = -1;\n        for (let i = 0; i < cartArray.length; i++) {\n            if (cartArray[i].name === data.product.name) {\n                index2 = i;\n                if (cartArray[i].count > 1) {\n                    data.updateCount = true\n                }\n            }\n        }\n        if (!data.updateCount) {\n            if (index2 >= 0) {\n                cartArray.splice(index2, 1);\n            }\n        } else {\n            cartArray[index2].count -= 1\n        }\n        \n\n        let updatedAcc = {\n            ...this.props.user,\n            cart: cartArray\n        }\n       \n        //PATCH remove\n        axios.patch(`http://onlinestoreserver.herokuapp.com/users/${this.props.user.id}/removeProduct`, data)\n        .then(response => {\n            console.log(response);\n            this.props.onUpdateCart(updatedAcc);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        \n    }\n\n    imageHandler(item) {\n\n        let imgLibrary = [\n            { name: \"Broccoli\", img: broccoli },\n            { name: \"Celery\", img: celery },\n            { name: \"Cucumber\", img: cucumber },\n            { name: \"Green Bell Pepper\", img: greenPepper },\n            { name: \"Red Bell Pepper\", img: redPepper },\n            { name: \"Roma Tomato\", img: romaTomato },\n            { name: \"Yellow Onion\", img: yellowOnion },\n            { name: \"Zucchini\", img: zucchini }\n\n        ]\n\n        let result = imgLibrary.filter(obj => {\n            return obj.name === item\n        })\n\n        return result[0].img;\n    }\n\n    countHandler(item) {\n        if (this.props.user !== null) {\n            let userCart = this.props.user.cart;\n            let result = -1;\n            for (let i = 0; i < userCart.length; i++) {\n                if (userCart[i].name === item) {\n                    result = userCart[i].count;\n                }\n            }\n            if (result === -1) {\n                return 0;\n            } else {\n                return result;\n            }\n            //return result[0].count;\n        } else {\n            return 0;\n        }\n    }\n\n    render() {\n        let vegetableItems = this.state.products;\n        /* for (let i = 0; i < this.props.productsArr.length; i++) {\n            if (this.props.productsArr[i].type === \"Vegetable\") {\n                vegetableItems.push(this.props.productsArr[i]);\n            }\n        } */\n\n        return (\n            \n            <div className={classes.Fruit}>\n                <h3>Vegetables</h3>\n                <div className={classes.FruitContainer}>\n                    {vegetableItems.map((item, index) => {\n                        return <ProductModel name={item.name}\n                        type={item.type}\n                        price={item.price}\n                        key={item._id}\n                        add={() => this.addHandler(item.name, item.price)}\n                        remove={() => this.removeHandler(item.name, item.price)}\n                        count={this.countHandler(item.name)}\n                        img={this.imageHandler(item.name)}\n                        />;\n                    })}\n                </div>\n            </div>\n        )\n    }\n    \n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.activeUser,\n        productsArr: state.products\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onUpdateCart: (account) => dispatch({type: actionTypes.UPDATE_CART, account})\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Vegetables);"]},"metadata":{},"sourceType":"module"}